<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Рутокен Плагин 3</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #content-wrapper {
            background: white;
            padding: 20px;
            border-radius: 5px;
            max-width: 80%;
            max-height: 80%;
            overflow: auto;
        }
    </style>
    <script type="text/javascript" src="dependencies.js"></script>
    <script type="text/javascript" src="rutoken-plugin.js"></script>
    <script type="text/javascript" src="libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="libs/jquery/1.7.1/jquery-base64.min.js"></script>
    <script type="text/javascript" src="libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
    <script type="text/javascript" src="libs/syntaxhighligher/3.0.83/js/shCore.js"></script>
    <script type="text/javascript" src="libs/syntaxhighligher/3.0.83/js/shBrushJScript.js"></script>
    <link rel="stylesheet" type="text/css" href="libs/syntaxhighligher/3.0.83/css/shCore.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript" src="present.js"></script>
    <script type="text/javascript" src="asn1Utils.js"></script>
</head>
<body>
    <div id="overlay">
        <div id="content-wrapper">
            <div id="container">
                <div id="content">
                    <div class="common">
                        <dl>
                            <dt><label for="device-list">Доступные устройства:</label></dt>
                            <dd>
                                <select id="device-list">
                                    <option>Обновите список устройств</option>
                                </select>
                                <button id="refresh-dev">↓↑</button>
                            </dd>
                        </dl>
                        <dl>
                            <dt><label for="device-list">PIN-код:</label></dt>
                            <dd>
                                <input id="device-pin" type="text" value="12345678" />
                                <button id="login">Войти</button>
                                <button id="logout">Выйти</button>
                                <button id="save-pin">Сохранить PIN-код</button>
                                <button id="remove-pin">Удалить PIN-код</button>
                            </dd>
                        </dl>
                    </div>
                    <div id="section">
                        <ul>
                            <li><a href="#section-1"><span>Информация об устройстве</span></a></li>
                            <li><a href="#section-6"><span>Бинарные файлы</span></a></li>
                        </ul>
                        <div id="section-1">
                            <div id="DevInfo" class="group">
                                <ul>
                                    <li>
                                        <label for="device-info-radio">Тип информации:</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="model" checked="checked"/>Модель</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="vendor model name" />Название модели от производителя</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="reader"/>Считыватель</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="label"/>Метка</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="type"/>Тип устройства</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="serial"/>Серийный номер</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="logged"/>Авторизация</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="formats"/>Поддерживаемые форматы</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="features"/>Возможности устройства</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="mechanisms"/>Поддерживаемые механизмы</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="speed" />Класс скорости</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="free memory" />Свободная память</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="pins"/>Информация о PIN-кодах</label><br>
                                        <label><input class="radio-input" type="radio" name="device-info" value="fkn" />Поддержка ФКН</label><br>
                                    </li>
                                </ul>
                            </div>
                            <div id="ChangePin" class="group">
                                <ul>
                                    <li>
                                        <label><input type="checkbox" name="use-admin-pin" class="input" />Использовать PIN-код Администратора</label>
                                    </li>
                                    <li>
                                        <label for="old-pin">Старый PIN-код пользователя или PIN-код Администратора:</label>
                                        <input type="text" class="input" id="old-pin" value="12345678" />
                                    </li>
                                    <li>
                                        <label for="new-pin">Новый PIN-код:</label>
                                        <input type="text" class="input" id="new-pin" value="123456" />
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="section-6">
                            <div class="common">
                                <dl>
                                    <dt><label for="files-list">Бинарные файлы на устройстве: </label></dt>
                                    <dd>
                                        <select id="files-list">
                                            <option>Обновите список файлов</option>
                                        </select>
                                        <button id="refresh-files">↓↑</button>
                                    </dd>
                                </dl>
                            </div>
                            <div id="CreateFile" class="group">
                                <ul>
                                    <li>
                                        <label><input type="checkbox" name="is-private-file" />Защитить бинарный файл на PIN-код Пользователя</label><br>
                                    </li>
                                    <li>
                                        <label>Задайте имя бинарного файла:</label>
                                        <input type="text" class="file-id input" value='File_name' />
                                    </li>
                                    <li>
                                        <label>Задайте содержимое бинарного файла в формате Base64:</label>
                                        <textarea id="create-file-body" class="text-input" rows="7">RmlsZV9uYW1l</textarea>
                                    </li>
                                </ul>
                            </div>
                            <div id="GetFile" class="group">
                                <ul>
                                    <li><textarea id="get-file-result" class="text-output" rows="7"></textarea></li>
                                </ul>
                            </div>
                            <div id="DeleteFile" class="group"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var overlay = document.getElementById('overlay');
            var contentWrapper = document.getElementById('content-wrapper');

            overlay.addEventListener('click', function(event) {
                if (event.target === overlay) {
                    window.close();
                }
            });

            contentWrapper.addEventListener('click', function(event) {
                event.stopPropagation();
            });
        });
    </script>
</body>
</html>